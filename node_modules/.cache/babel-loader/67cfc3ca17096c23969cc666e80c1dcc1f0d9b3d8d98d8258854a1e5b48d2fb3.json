{"ast":null,"code":"var _jsxFileName = \"/Users/shaun/Documents/dev/JavaScript/apps/spotify/src/components/SearchResults.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport MetaInfo from \"./MetaInfo\";\n\n//TODO one audio at a time\n//     re-add song after delete\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchResults = _ref => {\n  _s();\n  let {\n    results\n  } = _ref;\n  const [addedTracks, setAddedTracks] = useState([]);\n  const [showResults, setShowResults] = useState(true);\n  const [currentlyPlaying, setCurrentlyPlaying] = useState(false);\n  const [windowHeight, setWindowHeight] = useState(window.innerHeight);\n\n  // useEffect(() => {\n  //   console.log(\"[HEIGHT] \", windowHeight);\n  // }, [windowHeight]);\n\n  const deleteTrack = id => setAddedTracks(addedTracks.filter(track => track.id !== id));\n  const titles = results.map(track => {\n    const audio = new Audio(track.preview);\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-container-tracks-sb\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"artist-and-title\",\n            children: [track.artists.length > 1 ? `${track.artists[0].name}  ft... - ` : `${track.artists[0].name}  - `, track.title.length > 20 ? track.title.slice(0, 19) + \"...\" : track.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-play\",\n              onClick: () => {\n                if (audio.paused) {\n                  if (!currentlyPlaying) {\n                    audio.play();\n                    setCurrentlyPlaying(true);\n                  }\n                } else {\n                  if (currentlyPlaying) {\n                    audio.pause();\n                    setCurrentlyPlaying(false);\n                  }\n                }\n\n                // setCurrentlyPlaying(track);\n                // audio.paused ? audio.play() : audio.pause();\n              },\n              children: \">||\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-add-track\",\n              onClick: () => {\n                if (!addedTracks.includes(track)) {\n                  setAddedTracks([...addedTracks, track]);\n                }\n              },\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }, this)\n      }, track.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)\n    }, track.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-container-tracks\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"results-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-collapse\",\n          onClick: () => setShowResults(!showResults),\n          children: \"\\u21C4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), showResults && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"track-results-header\",\n            children: \"Preview and Add Tracks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"track-results-list\",\n            children: titles\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), window.innerHeight > window.innerWidth && /*#__PURE__*/_jsxDEV(MetaInfo, {\n          addedTracks: addedTracks,\n          deleteTrack: deleteTrack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), window.innerHeight < window.innerWidth && /*#__PURE__*/_jsxDEV(MetaInfo, {\n        addedTracks: addedTracks,\n        deleteTrack: deleteTrack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(SearchResults, \"TYrdXoFpg2jlG4GN4yk2nf68h6A=\");\n_c = SearchResults;\nexport default SearchResults;\nvar _c;\n$RefreshReg$(_c, \"SearchResults\");","map":{"version":3,"names":["React","useState","useEffect","MetaInfo","SearchResults","results","addedTracks","setAddedTracks","showResults","setShowResults","currentlyPlaying","setCurrentlyPlaying","windowHeight","setWindowHeight","window","innerHeight","deleteTrack","id","filter","track","titles","map","audio","Audio","preview","artists","length","name","title","slice","paused","play","pause","includes","innerWidth"],"sources":["/Users/shaun/Documents/dev/JavaScript/apps/spotify/src/components/SearchResults.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport MetaInfo from \"./MetaInfo\";\n\n//TODO one audio at a time\n//     re-add song after delete\nconst SearchResults = ({ results }) => {\n  const [addedTracks, setAddedTracks] = useState([]);\n  const [showResults, setShowResults] = useState(true);\n  const [currentlyPlaying, setCurrentlyPlaying] = useState(false);\n  const [windowHeight, setWindowHeight] = useState(window.innerHeight);\n\n  // useEffect(() => {\n  //   console.log(\"[HEIGHT] \", windowHeight);\n  // }, [windowHeight]);\n\n  const deleteTrack = (id) =>\n    setAddedTracks(addedTracks.filter((track) => track.id !== id));\n\n  const titles = results.map((track) => {\n    const audio = new Audio(track.preview);\n\n    return (\n      <React.Fragment key={track.id}>\n        <li key={track.id}>\n          <div className='flex-container-tracks-sb'>\n            <span className='artist-and-title'>\n              {track.artists.length > 1\n                ? `${track.artists[0].name}  ft... - `\n                : `${track.artists[0].name}  - `}\n              {track.title.length > 20\n                ? track.title.slice(0, 19) + \"...\"\n                : track.title}\n            </span>\n            <div>\n              <button\n                className='btn-play'\n                onClick={() => {\n                  if (audio.paused) {\n                    if (!currentlyPlaying) {\n                      audio.play();\n                      setCurrentlyPlaying(true);\n                    }\n                  } else {\n                    if (currentlyPlaying) {\n                      audio.pause();\n                      setCurrentlyPlaying(false);\n                    }\n                  }\n\n                  // setCurrentlyPlaying(track);\n                  // audio.paused ? audio.play() : audio.pause();\n                }}\n              >\n                {\">||\"}\n              </button>\n\n              <button\n                className='btn-add-track'\n                onClick={() => {\n                  if (!addedTracks.includes(track)) {\n                    setAddedTracks([...addedTracks, track]);\n                  }\n                }}\n              >\n                +\n              </button>\n            </div>\n          </div>\n        </li>\n      </React.Fragment>\n    );\n  });\n\n  return (\n    <>\n      <div className='flex-container-tracks'>\n        <section className='results-section'>\n          <button\n            className='btn-collapse'\n            onClick={() => setShowResults(!showResults)}\n          >\n            &#8644;\n          </button>\n          {showResults && (\n            <>\n              <h2 className='track-results-header'>Preview and Add Tracks</h2>\n              <ul className='track-results-list'>{titles}</ul>\n            </>\n          )}\n          {window.innerHeight > window.innerWidth && (\n            <MetaInfo addedTracks={addedTracks} deleteTrack={deleteTrack} />\n          )}\n        </section>\n        {window.innerHeight < window.innerWidth && (\n          <MetaInfo addedTracks={addedTracks} deleteTrack={deleteTrack} />\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default SearchResults;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}