{"ast":null,"code":"import _toConsumableArray from\"/Users/shaun/Documents/dev/JavaScript/apps/spotify/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/shaun/Documents/dev/JavaScript/apps/spotify/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import MetaInfo from\"./MetaInfo\";//TODO one audio at a time\n//     re-add song after delete\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SearchResults=function SearchResults(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),addedTracks=_useState2[0],setAddedTracks=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),showResults=_useState4[0],setShowResults=_useState4[1];var titles=props.results.map(function(track){var audio=new Audio(track.preview);return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-container-tracks-sb\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"artist-and-title\",children:[track.artists.length>1?\"\".concat(track.artists[0].name,\"  ft... - \"):\"\".concat(track.artists[0].name,\"  - \"),track.title.length>20?track.title.slice(0,19)+\"...\":track.title]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-play\",onClick:function onClick(){audio.paused?audio.play():audio.pause();},children:\">||\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-add-track\",onClick:function onClick(){if(!addedTracks.includes(track)){setAddedTracks([].concat(_toConsumableArray(addedTracks),[track]));}},children:\"+\"})]})]})},track.id)},track.id);});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-container-tracks\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"results-section\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-collapse\",onClick:function onClick(){return setShowResults(!showResults);},children:\"\\u21C4\"}),showResults&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"track-results-header\",children:\"Preview and Add Tracks\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"track-results-list\",children:titles})]}),window.innerWidth<=768&&/*#__PURE__*/_jsx(MetaInfo,{addedTracks:addedTracks})]}),window.innerWidth>=768&&/*#__PURE__*/_jsx(MetaInfo,{addedTracks:addedTracks})]})});};export default SearchResults;","map":{"version":3,"names":["React","useState","MetaInfo","SearchResults","props","addedTracks","setAddedTracks","showResults","setShowResults","titles","results","map","track","audio","Audio","preview","artists","length","name","title","slice","paused","play","pause","includes","id","window","innerWidth"],"sources":["/Users/shaun/Documents/dev/JavaScript/apps/spotify/src/components/SearchResults.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport MetaInfo from \"./MetaInfo\";\n\n//TODO one audio at a time\n//     re-add song after delete\nconst SearchResults = (props) => {\n  const [addedTracks, setAddedTracks] = useState([]);\n  const [showResults, setShowResults] = useState(true);\n\n  const titles = props.results.map((track) => {\n    const audio = new Audio(track.preview);\n\n    return (\n      <React.Fragment key={track.id}>\n        <li key={track.id}>\n          <div className='flex-container-tracks-sb'>\n            <span className='artist-and-title'>\n              {track.artists.length > 1\n                ? `${track.artists[0].name}  ft... - `\n                : `${track.artists[0].name}  - `}\n              {track.title.length > 20\n                ? track.title.slice(0, 19) + \"...\"\n                : track.title}\n            </span>\n            <div>\n              <button\n                className='btn-play'\n                onClick={() => {\n                  audio.paused ? audio.play() : audio.pause();\n                }}\n              >\n                {\">||\"}\n              </button>\n\n              <button\n                className='btn-add-track'\n                onClick={() => {\n                  if (!addedTracks.includes(track)) {\n                    setAddedTracks([...addedTracks, track]);\n                  }\n                }}\n              >\n                +\n              </button>\n            </div>\n          </div>\n        </li>\n      </React.Fragment>\n    );\n  });\n\n  return (\n    <>\n      <div className='flex-container-tracks'>\n        <section className='results-section'>\n          <button\n            className='btn-collapse'\n            onClick={() => setShowResults(!showResults)}\n          >\n            &#8644;\n          </button>\n          {showResults && (\n            <>\n              <h2 className='track-results-header'>Preview and Add Tracks</h2>\n              <ul className='track-results-list'>{titles}</ul>\n            </>\n          )}\n          {window.innerWidth <= 768 && <MetaInfo addedTracks={addedTracks} />}\n        </section>\n        {window.innerWidth >= 768 && <MetaInfo addedTracks={addedTracks} />}\n      </div>\n    </>\n  );\n};\n\nexport default SearchResults;\n"],"mappings":"wRAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,SAAQ,KAAM,YAAY,CAEjC;AACA;AAAA,6IACA,GAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAIC,KAAK,CAAK,CAC/B,cAAsCH,QAAQ,CAAC,EAAE,CAAC,wCAA3CI,WAAW,eAAEC,cAAc,eAClC,eAAsCL,QAAQ,CAAC,IAAI,CAAC,yCAA7CM,WAAW,eAAEC,cAAc,eAElC,GAAMC,OAAM,CAAGL,KAAK,CAACM,OAAO,CAACC,GAAG,CAAC,SAACC,KAAK,CAAK,CAC1C,GAAMC,MAAK,CAAG,GAAIC,MAAK,CAACF,KAAK,CAACG,OAAO,CAAC,CAEtC,mBACE,KAAC,KAAK,CAAC,QAAQ,wBACb,iCACE,aAAK,SAAS,CAAC,0BAA0B,wBACvC,cAAM,SAAS,CAAC,kBAAkB,WAC/BH,KAAK,CAACI,OAAO,CAACC,MAAM,CAAG,CAAC,WAClBL,KAAK,CAACI,OAAO,CAAC,CAAC,CAAC,CAACE,IAAI,yBACrBN,KAAK,CAACI,OAAO,CAAC,CAAC,CAAC,CAACE,IAAI,QAAM,CACjCN,KAAK,CAACO,KAAK,CAACF,MAAM,CAAG,EAAE,CACpBL,KAAK,CAACO,KAAK,CAACC,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAAG,KAAK,CAChCR,KAAK,CAACO,KAAK,GACV,cACP,oCACE,eACE,SAAS,CAAC,UAAU,CACpB,OAAO,CAAE,kBAAM,CACbN,KAAK,CAACQ,MAAM,CAAGR,KAAK,CAACS,IAAI,EAAE,CAAGT,KAAK,CAACU,KAAK,EAAE,CAC7C,CAAE,UAED,KAAK,EACC,cAET,eACE,SAAS,CAAC,eAAe,CACzB,OAAO,CAAE,kBAAM,CACb,GAAI,CAAClB,WAAW,CAACmB,QAAQ,CAACZ,KAAK,CAAC,CAAE,CAChCN,cAAc,8BAAKD,WAAW,GAAEO,KAAK,GAAE,CACzC,CACF,CAAE,UACH,GAED,EAAS,GACL,GACF,EA/BCA,KAAK,CAACa,EAAE,CAgCZ,EAjCcb,KAAK,CAACa,EAAE,CAkCZ,CAErB,CAAC,CAAC,CAEF,mBACE,sCACE,aAAK,SAAS,CAAC,uBAAuB,wBACpC,iBAAS,SAAS,CAAC,iBAAiB,wBAClC,eACE,SAAS,CAAC,cAAc,CACxB,OAAO,CAAE,yBAAMjB,eAAc,CAAC,CAACD,WAAW,CAAC,EAAC,UAC7C,QAED,EAAS,CACRA,WAAW,eACV,wCACE,WAAI,SAAS,CAAC,sBAAsB,UAAC,wBAAsB,EAAK,cAChE,WAAI,SAAS,CAAC,oBAAoB,UAAEE,MAAM,EAAM,GAEnD,CACAiB,MAAM,CAACC,UAAU,EAAI,GAAG,eAAI,KAAC,QAAQ,EAAC,WAAW,CAAEtB,WAAY,EAAG,GAC3D,CACTqB,MAAM,CAACC,UAAU,EAAI,GAAG,eAAI,KAAC,QAAQ,EAAC,WAAW,CAAEtB,WAAY,EAAG,GAC/D,EACL,CAEP,CAAC,CAED,cAAeF,cAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}