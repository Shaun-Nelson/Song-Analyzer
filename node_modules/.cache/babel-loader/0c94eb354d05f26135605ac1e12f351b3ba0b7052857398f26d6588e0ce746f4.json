{"ast":null,"code":"var _jsxFileName = \"/Users/shaun/Documents/dev/JavaScript/apps/spotify/src/components/SearchResults.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport MetaInfo from \"./MetaInfo\";\nimport BottomNav from \"./BottomNav\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchResults = _ref => {\n  _s();\n  let {\n    results,\n    setResults,\n    next,\n    setNext\n  } = _ref;\n  const [addedTracks, setAddedTracks] = useState([]);\n  const [showResults, setShowResults] = useState(true);\n  const [showMetaInfo, setShowMetaInfo] = useState(false);\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  let portrait = window.matchMedia(\"(orientation: portrait)\");\n  useEffect(() => {\n    portrait.addEventListener(\"change\", e => {\n      setWindowWidth(window.innerWidth);\n    });\n  }, [windowWidth, portrait]);\n  let audio = new Audio();\n  const deleteTrack = id => {\n    setAddedTracks(addedTracks.filter(track => track.id !== id));\n  };\n  const goToSearch = () => {\n    setShowResults(true);\n    setShowMetaInfo(false);\n  };\n  const goToData = () => {\n    setShowResults(false);\n    setShowMetaInfo(true);\n  };\n\n  // const getNext = async () => {\n  //   if (next) {\n  //     await fetch(\"/search\", {\n  //       method: \"POST\",\n  //       headers: {\n  //         \"Content-type\": \"application/json\",\n  //         \"Access-Control-Allow-Origin\": \"*\",\n  //         \"Access-Control-Allow-Credentials\": \"true\",\n  //         \"Access-Control-Allow-Methods\": \"POST\",\n  //         \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\",\n  //       },\n  //       body: JSON.stringify({ track: next }),\n  //     })\n  //       .then((res) => res.json())\n  //       .then((data) => {\n  //         setResults(data);\n  //         setNext(data[0].next);\n  //         console.log(next);\n  //       });\n  //   }\n  // };\n\n  const titles = results.map(track => {\n    let artists = [];\n    track.artists.forEach(artist => artists.push(artist.name));\n    const artistNames = artists.join(\", \");\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-play\",\n              onClick: () => {\n                if (audio.src !== track.preview) {\n                  audio.src = track.preview;\n                }\n                audio.paused ? audio.play() : audio.pause();\n              },\n              children: \">||\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-add-track\",\n              onClick: () => {\n                if (!addedTracks.includes(track)) {\n                  setAddedTracks([...addedTracks, track]);\n                }\n              },\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: artistNames\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: track.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, track.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, track.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-container-tracks\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"results-section\",\n        children: showResults && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"track-results-header\",\n            children: \"Preview and Add Tracks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: titles\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), showMetaInfo && /*#__PURE__*/_jsxDEV(MetaInfo, {\n      addedTracks: addedTracks,\n      deleteTrack: deleteTrack\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(BottomNav, {\n      search: goToSearch,\n      data: goToData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(SearchResults, \"iKrM8+g5fmoM31ZC6cewKWG9hYU=\");\n_c = SearchResults;\nexport default SearchResults;\nvar _c;\n$RefreshReg$(_c, \"SearchResults\");","map":{"version":3,"names":["React","useState","useEffect","MetaInfo","BottomNav","SearchResults","results","setResults","next","setNext","addedTracks","setAddedTracks","showResults","setShowResults","showMetaInfo","setShowMetaInfo","windowWidth","setWindowWidth","window","innerWidth","portrait","matchMedia","addEventListener","e","audio","Audio","deleteTrack","id","filter","track","goToSearch","goToData","titles","map","artists","forEach","artist","push","name","artistNames","join","src","preview","paused","play","pause","includes","title"],"sources":["/Users/shaun/Documents/dev/JavaScript/apps/spotify/src/components/SearchResults.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport MetaInfo from \"./MetaInfo\";\nimport BottomNav from \"./BottomNav\";\n\nconst SearchResults = ({ results, setResults, next, setNext }) => {\n  const [addedTracks, setAddedTracks] = useState([]);\n  const [showResults, setShowResults] = useState(true);\n  const [showMetaInfo, setShowMetaInfo] = useState(false);\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n\n  let portrait = window.matchMedia(\"(orientation: portrait)\");\n\n  useEffect(() => {\n    portrait.addEventListener(\"change\", (e) => {\n      setWindowWidth(window.innerWidth);\n    });\n  }, [windowWidth, portrait]);\n\n  let audio = new Audio();\n\n  const deleteTrack = (id) => {\n    setAddedTracks(addedTracks.filter((track) => track.id !== id));\n  };\n\n  const goToSearch = () => {\n    setShowResults(true);\n    setShowMetaInfo(false);\n  };\n\n  const goToData = () => {\n    setShowResults(false);\n    setShowMetaInfo(true);\n  };\n\n  // const getNext = async () => {\n  //   if (next) {\n  //     await fetch(\"/search\", {\n  //       method: \"POST\",\n  //       headers: {\n  //         \"Content-type\": \"application/json\",\n  //         \"Access-Control-Allow-Origin\": \"*\",\n  //         \"Access-Control-Allow-Credentials\": \"true\",\n  //         \"Access-Control-Allow-Methods\": \"POST\",\n  //         \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\",\n  //       },\n  //       body: JSON.stringify({ track: next }),\n  //     })\n  //       .then((res) => res.json())\n  //       .then((data) => {\n  //         setResults(data);\n  //         setNext(data[0].next);\n  //         console.log(next);\n  //       });\n  //   }\n  // };\n\n  const titles = results.map((track) => {\n    let artists = [];\n    track.artists.forEach((artist) => artists.push(artist.name));\n    const artistNames = artists.join(\", \");\n\n    return (\n      <React.Fragment key={track.id}>\n        <tr key={track.id}>\n          <td>\n            <div>\n              <button\n                className='btn-play'\n                onClick={() => {\n                  if (audio.src !== track.preview) {\n                    audio.src = track.preview;\n                  }\n                  audio.paused ? audio.play() : audio.pause();\n                }}\n              >\n                {\">||\"}\n              </button>\n              <button\n                className='btn-add-track'\n                onClick={() => {\n                  if (!addedTracks.includes(track)) {\n                    setAddedTracks([...addedTracks, track]);\n                  }\n                }}\n              >\n                +\n              </button>\n            </div>\n          </td>\n          <td>{artistNames}</td>\n          <td>{track.title}</td>\n        </tr>\n      </React.Fragment>\n    );\n  });\n\n  return (\n    <>\n      <div className='flex-container-tracks'>\n        <section className='results-section'>\n          {showResults && (\n            <>\n              <h2 className='track-results-header'>Preview and Add Tracks</h2>\n              {/* <button className='btn-next' onClick={getNext}>\n                Next 20\n              </button> */}\n              <table>\n                <tbody>{titles}</tbody>\n              </table>\n            </>\n          )}\n        </section>\n      </div>\n      {showMetaInfo && (\n        <MetaInfo addedTracks={addedTracks} deleteTrack={deleteTrack} />\n      )}\n      <BottomNav search={goToSearch} data={goToData} />\n    </>\n  );\n};\n\nexport default SearchResults;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}